{
  if (!caseSensitiveCustomCategories) {
    category=category.toLowerCase(Locale.ENGLISH);
  }
  Map<String,Property> source=categories.get(category);
  if (source == null) {
    source=new TreeMap<String,Property>();
    categories.put(category,source);
  }
  if (source.containsKey(key)) {
    return source.get(key);
  }
 else   if (defaultValue != null) {
    Property property=new Property();
    source.put(key,property);
    property.setName(key);
    property.value=defaultValue;
    return property;
  }
 else {
    return null;
  }
}
