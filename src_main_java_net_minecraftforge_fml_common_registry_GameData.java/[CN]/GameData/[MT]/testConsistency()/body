{
  for (int i=availabilityMap.nextSetBit(0); i >= 0; i=availabilityMap.nextSetBit(i + 1)) {
    if (iBlockRegistry.getRaw(i) == null && iItemRegistry.getRaw(i) == null && !blockedIds.contains(i)) {
      throw new IllegalStateException(String.format("availabilityMap references empty entries for id %d.",i));
    }
  }
  for (int pass=0; pass < 2; pass++) {
    boolean isBlock=pass == 0;
    String type=isBlock ? "block" : "item";
    FMLControlledNamespacedRegistry<?> registry=isBlock ? iBlockRegistry : iItemRegistry;
    registry.validateContent((isBlock ? MAX_BLOCK_ID : MAX_ITEM_ID),type,availabilityMap,blockedIds,iBlockRegistry);
  }
  FMLLog.fine("Registry consistency check successful");
}
