{
  ResourceLocation nameToSubstitute=new ResourceLocation(name);
  final BiMap<Block,Item> blockItemMap=getBlockItemMap();
  if (type == GameRegistry.Type.BLOCK) {
    iBlockRegistry.addSubstitutionAlias(Loader.instance().activeModContainer().getModId(),nameToSubstitute,(Block)toReplace);
    Block orig=iBlockRegistry.activateSubstitution(nameToSubstitute);
    if (blockItemMap.containsKey(orig)) {
      Item i=blockItemMap.get(orig);
      blockItemMap.forcePut((Block)toReplace,i);
    }
  }
 else   if (type == GameRegistry.Type.ITEM) {
    iItemRegistry.addSubstitutionAlias(Loader.instance().activeModContainer().getModId(),nameToSubstitute,(Item)toReplace);
    Item orig=iItemRegistry.activateSubstitution(nameToSubstitute);
    if (blockItemMap.containsValue(orig)) {
      Block b=blockItemMap.inverse().get(orig);
      blockItemMap.forcePut(b,(Item)toReplace);
    }
  }
}
