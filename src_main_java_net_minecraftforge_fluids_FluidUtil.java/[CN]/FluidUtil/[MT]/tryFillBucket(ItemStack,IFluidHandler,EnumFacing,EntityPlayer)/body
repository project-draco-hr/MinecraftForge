{
  FluidTankInfo[] info=tank.getTankInfo(side);
  if (info == null || info.length == 0) {
    return null;
  }
  if (!FluidContainerRegistry.isEmptyContainer(bucket)) {
    return null;
  }
  FluidStack inTank=info[0].fluid;
  FluidStack liquid=tank.drain(side,FluidContainerRegistry.getContainerCapacity(inTank,bucket),false);
  if (liquid != null && liquid.amount > 0) {
    if (player != null) {
      SoundEvent soundevent=liquid.getFluid().getFillSound(liquid);
      player.playSound(soundevent,1f,1f);
    }
    tank.drain(side,FluidContainerRegistry.getContainerCapacity(liquid,bucket),true);
    return FluidContainerRegistry.fillFluidContainer(liquid,bucket);
  }
  return null;
}
