{
  if (worldIn == null || fluid == null || fluid.getFluid() == null || pos == null) {
    return false;
  }
  IBlockState destBlockState=worldIn.getBlockState(pos);
  Material destMaterial=destBlockState.getMaterial();
  boolean isDestNonSolid=!destMaterial.isSolid();
  boolean isDestReplaceable=destBlockState.getBlock().isReplaceable(worldIn,pos);
  if (!worldIn.isAirBlock(pos) && !isDestNonSolid && !isDestReplaceable) {
    return false;
  }
  IBlockState fluidBlockState=fluid.getFluid().getBlock().getDefaultState();
  if (worldIn.provider.doesWaterVaporize() && fluidBlockState.getMaterial() == Material.WATER) {
    worldIn.playSound(player,pos,SoundEvents.BLOCK_FIRE_EXTINGUISH,SoundCategory.BLOCKS,0.5F,2.6F + (worldIn.rand.nextFloat() - worldIn.rand.nextFloat()) * 0.8F);
    for (int l=0; l < 8; ++l) {
      worldIn.spawnParticle(EnumParticleTypes.SMOKE_LARGE,(double)pos.getX() + Math.random(),(double)pos.getY() + Math.random(),(double)pos.getZ() + Math.random(),0.0D,0.0D,0.0D);
    }
  }
 else {
    if (!worldIn.isRemote && (isDestNonSolid || isDestReplaceable) && !destMaterial.isLiquid()) {
      worldIn.destroyBlock(pos,true);
    }
    SoundEvent soundevent=fluid.getFluid().getEmptySound(worldIn,pos);
    worldIn.playSound(player,pos,soundevent,SoundCategory.BLOCKS,1.0F,1.0F);
    worldIn.setBlockState(pos,fluidBlockState,11);
  }
  return true;
}
