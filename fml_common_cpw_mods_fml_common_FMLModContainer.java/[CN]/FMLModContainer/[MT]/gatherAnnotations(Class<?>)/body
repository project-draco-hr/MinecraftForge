{
  Multimap<Class<? extends Annotation>,Object> anns=ArrayListMultimap.create();
  for (  Field f : clazz.getDeclaredFields()) {
    for (    Annotation a : f.getAnnotations()) {
      f.setAccessible(true);
      anns.put(a.annotationType(),f);
    }
  }
  for (  Method m : clazz.getDeclaredMethods()) {
    for (    Annotation a : m.getAnnotations()) {
      Class<?>[] paramTypes=new Class[]{modTypeAnnotations.get(a.annotationType())};
      if (Arrays.equals(m.getParameterTypes(),paramTypes)) {
        m.setAccessible(true);
        anns.put(a.annotationType(),m);
      }
 else {
        FMLLog.severe("The mod %s appears to have an invalid method annotation %s. This annotation can only apply to methods with argument types %s -it will not be called",getModId(),a.annotationType().getSimpleName(),Arrays.toString(paramTypes));
      }
    }
  }
  return anns;
}
