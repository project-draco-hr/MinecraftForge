{
  res=new ScaledResolution(mc.gameSettings,mc.displayWidth,mc.displayHeight);
  eventParent=new RenderGameOverlayEvent(partialTicks,res,mouseX,mouseY);
  int width=res.getScaledWidth();
  int height=res.getScaledHeight();
  if (pre(ALL))   return;
  fontrenderer=mc.fontRenderer;
  mc.entityRenderer.setupOverlayRendering();
  GL11.glEnable(GL11.GL_BLEND);
  if (Minecraft.isFancyGraphicsEnabled()) {
    renderVignette(mc.thePlayer.getBrightness(partialTicks),width,height);
  }
 else {
    GL11.glBlendFunc(GL11.GL_SRC_ALPHA,GL11.GL_ONE_MINUS_SRC_ALPHA);
  }
  if (renderHelmet)   renderHelmet(res,partialTicks,hasScreen,mouseX,mouseY);
  if (renderPortal && !mc.thePlayer.isPotionActive(Potion.confusion)) {
    renderPortal(width,height,partialTicks);
  }
  if (!mc.playerController.enableEverythingIsScrewedUpMode()) {
    GL11.glColor4f(1.0F,1.0F,1.0F,1.0F);
    zLevel=-90.0F;
    rand.setSeed((long)(updateCounter * 312871));
    mc.renderEngine.func_110577_a(TextureMap.field_110576_c);
    if (renderCrosshairs)     renderCrosshairs(width,height);
    if (renderBossHealth)     renderBossHealth();
    if (this.mc.playerController.shouldDrawHUD()) {
      if (renderArmor)       renderArmor(width,height);
      if (renderHealth)       renderHealth(width,height);
      if (renderFood)       renderFood(width,height);
      if (renderAir)       renderAir(width,height);
    }
    if (renderHotbar)     renderHotbar(width,height,partialTicks);
  }
  if (renderExperiance)   renderExperience(width,height);
  renderSleepFade(width,height);
  renderToolHightlight(width,height);
  renderHUDText(width,height);
  renderRecordOverlay(width,height,partialTicks);
  ScoreObjective objective=mc.theWorld.getScoreboard().func_96539_a(1);
  if (renderObjective && objective != null) {
    this.func_96136_a(objective,height,width,fontrenderer);
  }
  GL11.glEnable(GL11.GL_BLEND);
  GL11.glBlendFunc(GL11.GL_SRC_ALPHA,GL11.GL_ONE_MINUS_SRC_ALPHA);
  GL11.glDisable(GL11.GL_ALPHA_TEST);
  renderChat(width,height);
  renderPlayerList(width,height);
  GL11.glColor4f(1.0F,1.0F,1.0F,1.0F);
  GL11.glDisable(GL11.GL_LIGHTING);
  GL11.glEnable(GL11.GL_ALPHA_TEST);
  post(ALL);
}
