{
  EntityRegistration er=EntityRegistry.instance().lookupModSpawn(entity.getClass(),false);
  if (er == null) {
    return null;
  }
  if (er.usesVanillaSpawning()) {
    return null;
  }
  EmbeddedChannel embeddedChannel=channelPair.get(Side.SERVER);
  embeddedChannel.attr(FMLOutboundHandler.FML_MESSAGETARGET).set(OutboundTarget.NOWHERE);
  embeddedChannel.writeOutbound(new FMLMessage.EntitySpawnMessage(er,entity,er.getContainer()));
  FMLProxyPacket result=(FMLProxyPacket)embeddedChannel.outboundMessages().poll();
  return result;
}
