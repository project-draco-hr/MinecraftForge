{
  File file=new File(rulesFile);
  URL rulesResource;
  if (file.exists()) {
    rulesResource=file.toURI().toURL();
  }
 else {
    rulesResource=Resources.getResource(rulesFile);
  }
  Resources.readLines(rulesResource,Charsets.UTF_8,new LineProcessor<Void>(){
    @Override public Void getResult(){
      return null;
    }
    @Override public boolean processLine(    String input) throws IOException {
      String line=Iterables.getFirst(Splitter.on('#').limit(2).split(input),"").trim();
      if (line.length() == 0) {
        return true;
      }
      List<String> parts=Lists.newArrayList(Splitter.on(" ").trimResults().split(line));
      if (parts.size() > 2 || parts.get(1).indexOf('.') == -1) {
        throw new RuntimeException("Invalid config file line " + input);
      }
      Modifier m=new Modifier();
      m.setTargetAccess(parts.get(0));
      List<String> descriptor=Lists.newArrayList(Splitter.on(".").trimResults().split(parts.get(1)));
      String nameReference=descriptor.get(1);
      int parenIdx=nameReference.indexOf('(');
      if (parenIdx > 0) {
        m.desc=nameReference.substring(parenIdx);
        m.name=nameReference.substring(0,parenIdx - 1);
      }
 else {
        m.name=nameReference;
      }
      modifiers.put(descriptor.get(0),m);
      return true;
    }
  }
);
}
