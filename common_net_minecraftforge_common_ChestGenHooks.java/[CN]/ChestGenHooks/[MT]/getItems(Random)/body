{
  ArrayList<WeightedRandomChestContent> ret=new ArrayList<WeightedRandomChestContent>();
  for (  WeightedRandomChestContent orig : contents) {
    Item item=orig.theItemId.getItem();
    if (item != null) {
      WeightedRandomChestContent n=item.getChestGenBase(this,rnd,orig);
      if (n != null) {
        ret.add(n);
      }
    }
  }
  return ret.toArray(new WeightedRandomChestContent[ret.size()]);
}
