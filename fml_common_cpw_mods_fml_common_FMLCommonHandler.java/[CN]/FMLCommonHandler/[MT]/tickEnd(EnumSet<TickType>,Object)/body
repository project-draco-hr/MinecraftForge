{
  sidedDelegate.profileStart("modTickEnd$" + ticks);
  for (int i=0; i < tickHandlers.size(); i++) {
    if (!tickHandlers.peek().scheduledNow()) {
      break;
    }
    TickQueueElement tickQueueElement=tickHandlers.poll();
    IScheduledTickHandler ticker=tickQueueElement.ticker;
    EnumSet<TickType> ticksToRun=EnumSet.copyOf(ticker.ticks());
    ticksToRun.removeAll(EnumSet.complementOf(ticks));
    if (!ticksToRun.isEmpty()) {
      sidedDelegate.profileStart(ticker.getLabel());
      ticker.tickEnd(ticksToRun,data);
      sidedDelegate.profileEnd();
    }
    tickQueueElement.update();
    tickHandlers.offer(tickQueueElement);
  }
  sidedDelegate.profileEnd();
}
