{
  int timing=(int)((System.nanoTime() - timestamp) / 1000L);
  String label=Joiner.on('.').join(profiles);
  profiles.pop();
  hitCounter.add(label);
  timings.add(label,timing);
  if (System.currentTimeMillis() > endTime) {
    endProfiling();
  }
}
