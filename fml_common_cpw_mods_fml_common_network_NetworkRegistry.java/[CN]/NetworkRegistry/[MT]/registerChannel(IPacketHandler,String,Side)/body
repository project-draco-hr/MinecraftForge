{
  if (Strings.isNullOrEmpty(channelName) || (channelName != null && channelName.length() > 16)) {
    FMLLog.severe("Invalid channel name '%s' : %s",channelName,Strings.isNullOrEmpty(channelName) ? "Channel name is empty" : "Channel name is too long (16 chars is maximum)");
    throw new RuntimeException("Channel name is invalid");
  }
  if (side.isClient()) {
    clientPacketHandlers.put(channelName,handler);
  }
 else {
    serverPacketHandlers.put(channelName,handler);
  }
}
