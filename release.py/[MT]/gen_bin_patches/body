def gen_bin_patches(mcp_dir, fml_dir, build_num, client_dir):
    print 'Creating Binary patches'
    os.environ['WORKSPACE'] = os.path.join(mcp_dir, '..')
    os.environ['BUILD_NUMBER'] = str(build_num)
    BUILD = ['ant', 'makebinpatches']
    if sys.platform.startswith('win'):
        BUILD = (['cmd', '/C'] + BUILD)
    if (not run_command(BUILD, cwd=fml_dir)):
        print 'Could not crate binary patches'
        sys.exit(1)
    fml_lzma = os.path.join(fml_dir, 'binpatches.pack.lzma')
    obf_lzma = os.path.join(client_dir, 'binpatches.pack.lzma')
    shutil.move(fml_lzma, obf_lzma)
