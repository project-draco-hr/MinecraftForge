{
  if (resource == null || !resource.isFluidEqual(tank.getFluid())) {
    return null;
  }
  return tank.drain(resource.amount,doDrain);
}
