{
  if (state instanceof IExtendedBlockState) {
    IExtendedBlockState exState=(IExtendedBlockState)state;
    if (exState.getUnlistedNames().contains(OBJProperty.instance)) {
      OBJState s=exState.getValue(OBJProperty.instance);
      if (s != null) {
        if (s.visibilityMap.containsKey(Group.ALL) || s.visibilityMap.containsKey(Group.ALL_EXCEPT)) {
          this.updateStateVisibilityMap(s);
        }
        return getCachedModel(s);
      }
    }
  }
  return this;
}
