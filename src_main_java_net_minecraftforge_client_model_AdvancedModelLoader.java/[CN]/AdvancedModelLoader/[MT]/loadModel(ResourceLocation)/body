{
  String name=resource.getResourcePath();
  int i=name.lastIndexOf('.');
  if (i == -1) {
    FMLLog.severe("The resource name %s is not valid",resource);
    throw new IllegalArgumentException("The resource name is not valid");
  }
  String suffix=name.substring(i + 1);
  IModelCustomLoader loader=instances.get(suffix);
  if (loader == null) {
    FMLLog.severe("The resource name %s is not supported",resource);
    throw new IllegalArgumentException("The resource name is not supported");
  }
  return loader.loadInstance(resource);
}
