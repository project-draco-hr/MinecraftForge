{
  int metadata=world.getBlockMetadata(x,y,z);
  float hardness=block.getBlockHardness(world,x,y,z);
  if (hardness < 0.0F) {
    return 0.0F;
  }
  if (!canHarvestBlock(block,player,metadata)) {
    float speed=ForgeEventFactory.getBreakSpeed(player,block,metadata,1.0f);
    return (speed < 0 ? 0 : speed) / hardness / 100F;
  }
 else {
    return player.getCurrentPlayerStrVsBlock(block,false,metadata) / hardness / 30F;
  }
}
