{
  ticks.clear();
  TickQueueElement.tickCounter++;
  while (true) {
    if (tickHandlers.size() == 0 || !tickHandlers.peek().scheduledNow()) {
      break;
    }
    TickRegistry.TickQueueElement tickQueueElement=tickHandlers.poll();
    tickQueueElement.update();
    tickHandlers.offer(tickQueueElement);
    ticks.add(tickQueueElement.ticker);
  }
}
