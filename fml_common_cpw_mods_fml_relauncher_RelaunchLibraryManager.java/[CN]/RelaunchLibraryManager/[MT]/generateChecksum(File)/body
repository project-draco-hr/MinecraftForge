{
  try {
    FileInputStream fis=new FileInputStream(file);
    FileChannel chan=fis.getChannel();
    MessageDigest digest=MessageDigest.getInstance("SHA-1");
    MappedByteBuffer mappedFile=chan.map(MapMode.READ_ONLY,0,file.length());
    digest.update(mappedFile);
    chan.close();
    fis.close();
    byte[] chksum=digest.digest();
    final StringBuilder hex=new StringBuilder(2 * chksum.length);
    for (    final byte b : chksum) {
      hex.append(HEXES.charAt((b & 0xF0) >> 4)).append(HEXES.charAt((b & 0x0F)));
    }
    return hex.toString();
  }
 catch (  Exception e) {
    return null;
  }
}
