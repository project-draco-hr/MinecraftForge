{
  String record;
synchronized (FMLRelaunchLog.class) {
    super.flush();
    record=this.toString();
    super.reset();
    currentMessage.append(record.replace(FMLLogFormatter.LINE_SEPARATOR,"\n"));
    if (currentMessage.lastIndexOf("\n") >= 0) {
      if (currentMessage.length() > 1) {
        currentMessage.setLength(currentMessage.length() - 1);
        log.log(Level.INFO,currentMessage.toString());
      }
      currentMessage.setLength(0);
    }
  }
}
