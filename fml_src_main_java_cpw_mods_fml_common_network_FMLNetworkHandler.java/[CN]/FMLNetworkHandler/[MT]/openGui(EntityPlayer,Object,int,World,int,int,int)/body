{
  ModContainer mc=FMLCommonHandler.instance().findContainerFor(mod);
  if (mc == null) {
    NetworkModHandler nmh=instance().findNetworkModHandler(mod);
    if (nmh != null) {
      mc=nmh.getContainer();
    }
 else {
      FMLLog.warning("A mod tried to open a gui on the server without being a NetworkMod");
      return;
    }
  }
  if (player instanceof EntityPlayerMP) {
    NetworkRegistry.instance().openRemoteGui(mc,(EntityPlayerMP)player,modGuiId,world,x,y,z);
  }
 else   if (FMLCommonHandler.instance().getSide().equals(Side.CLIENT)) {
    NetworkRegistry.instance().openLocalGui(mc,player,modGuiId,world,x,y,z);
  }
 else {
    FMLLog.fine("Invalid attempt to open a local GUI on a dedicated server. This is likely a bug. GUIID: %s,%d",mc.getModId(),modGuiId);
  }
}
