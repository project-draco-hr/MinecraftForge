{
  if (tag.func_74764_b("ModList")) {
    NBTTagList modList=tag.func_74761_m("ModList");
    for (int i=0; i < modList.func_74745_c(); i++) {
      NBTTagCompound mod=(NBTTagCompound)modList.func_74743_b(i);
      String modId=mod.func_74779_i("ModId");
      String modVersion=mod.func_74779_i("ModVersion");
      ModContainer container=Loader.instance().getIndexedModList().get(modId);
      if (container == null) {
        FMLLog.log("fml.ModTracker",Level.SEVERE,"This world was saved with mod %s which appears to be missing, things may not work well",modId);
        continue;
      }
      if (!modVersion.equals(container.getVersion())) {
        FMLLog.log("fml.ModTracker",Level.INFO,"This world was saved with mod %s version %s and it is now at version %s, things may not work well",modId,modVersion,container.getVersion());
      }
    }
  }
  if (tag.func_74764_b("ModItemData")) {
    NBTTagList modList=tag.func_74761_m("ModItemData");
    Set<ItemData> worldSaveItems=GameData.buildWorldItemData(modList);
    GameData.validateWorldSave(worldSaveItems);
  }
 else {
    GameData.validateWorldSave(null);
  }
}
