{
  StackTraceElement[] cause=Thread.currentThread().getStackTrace();
  String callingClass=cause.length > 2 ? cause[3].getClassName() : "none";
  String callingParent=cause.length > 3 ? cause[4].getClassName() : "none";
  if (!(callingClass.startsWith("net.minecraftforge.fml.") || ("net.minecraft.client.Minecraft".equals(callingClass) && "net.minecraft.client.Minecraft".equals(callingParent)) || ("net.minecraft.server.gui.MinecraftServerGui$1".equals(callingClass) && "java.awt.AWTEventMulticaster".equals(callingParent))|| ("net.minecraft.server.dedicated.DedicatedServer".equals(callingClass) && "net.minecraft.server.MinecraftServer".equals(callingParent)))) {
    throw new ExitTrappedException();
  }
}
