{
  initializeLoader();
  mods=Lists.newArrayList();
  namedMods=Maps.newHashMap();
  modController=new LoadController(this);
  modController.transition(LoaderState.LOADING);
  ModDiscoverer disc=identifyMods();
  disableRequestedMods();
  modController.distributeStateMessage(FMLLoadEvent.class);
  sortModList();
  mods=ImmutableList.copyOf(mods);
  modController.transition(LoaderState.CONSTRUCTING);
  modController.distributeStateMessage(LoaderState.CONSTRUCTING,modClassLoader,disc.getASMTable());
  modController.transition(LoaderState.PREINITIALIZATION);
  modController.distributeStateMessage(LoaderState.PREINITIALIZATION,disc.getASMTable(),canonicalConfigDir);
  modController.transition(LoaderState.INITIALIZATION);
}
