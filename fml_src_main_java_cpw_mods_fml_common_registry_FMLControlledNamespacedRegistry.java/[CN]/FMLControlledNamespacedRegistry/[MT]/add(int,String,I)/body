{
  if (name.equals(optionalDefaultName)) {
    this.optionalDefaultObject=thing;
  }
  int idToUse=id;
  if (id == 0 || availabilityMap.get(id)) {
    idToUse=availabilityMap.nextClearBit(minId);
  }
  if (idToUse >= maxId) {
    throw new RuntimeException(String.format("Invalid id %s - not accepted",id));
  }
  ModContainer mc=Loader.instance().activeModContainer();
  if (mc != null) {
    String prefix=mc.getModId();
    name=prefix + ":" + name;
  }
  namedIds.forcePut(ensureNamespaced(name),idToUse);
  super.addObject(idToUse,name,thing);
  useSlot(idToUse);
  FMLLog.finer("Add : %s %d %s",name,idToUse,thing);
  return idToUse;
}
