{
  if (parent != null && parent.shouldRebuild()) {
    parent.buildCache();
  }
  ArrayList<IEventListener> ret=new ArrayList<IEventListener>();
  for (  EventPriority value : EventPriority.values()) {
    ret.addAll(getListeners(value));
  }
  listeners=ret.toArray(new IEventListener[ret.size()]);
  rebuild=false;
}
