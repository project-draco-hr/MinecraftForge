{
  if (shouldProgressBar) {
    blockBar.step(location.toString());
  }
  boolean p=shouldProgressBar;
  try {
    Variants variants=null;
    try {
      variants=definition.getVariants(location.getVariant());
    }
 catch (    MissingVariantException e) {
      missingVariants.add(location);
    }
    if (variants != null && !variants.getVariants().isEmpty()) {
      try {
        stateModels.put(location,new WeightedRandomModel(location,variants));
      }
 catch (      Throwable e) {
        throw new RuntimeException(e);
      }
    }
  }
  finally {
    shouldProgressBar=p;
  }
}
