{
  String modelPath=modelLocation.getResourcePath();
  if (modelLocation.getResourcePath().startsWith("models/")) {
    modelPath=modelPath.substring("models/".length());
  }
  ResourceLocation armatureLocation=new ResourceLocation(modelLocation.getResourceDomain(),"armatures/" + modelPath + ".json");
  ModelBlockAnimation animation=Animation.INSTANCE.loadVanillaAnimation(armatureLocation);
  ModelBlock model=null;
  try {
    model=loader.loadModel(modelLocation);
  }
 catch (  Exception e) {
    FMLLog.getLogger().error("Unable to load vanilla model " + modelLocation,e);
  }
  if (model != null) {
    return loader.new VanillaModelWrapper(modelLocation,model,false,animation);
  }
  return ModelLoaderRegistry.getMissingModel();
}
