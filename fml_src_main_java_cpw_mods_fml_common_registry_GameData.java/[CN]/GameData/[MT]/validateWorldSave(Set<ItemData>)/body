{
  isSaveValid=true;
  shouldContinue=true;
  if (worldSaveItems == null) {
    serverValidationLatch.countDown();
    try {
      clientValidationLatch.await();
    }
 catch (    InterruptedException e) {
    }
    return;
  }
  Function<? super ItemData,Integer> idMapFunction=new Function<ItemData,Integer>(){
    public Integer apply(    ItemData input){
      return input.getItemId();
    }
  }
;
  Map<Integer,ItemData> worldMap=Maps.uniqueIndex(worldSaveItems,idMapFunction);
  difference=Maps.difference(worldMap,idMap);
  FMLLog.log("fml.ItemTracker",Level.FINE,"The difference set is %s",difference);
  if (!difference.entriesDiffering().isEmpty() || !difference.entriesOnlyOnLeft().isEmpty()) {
    FMLLog.log("fml.ItemTracker",Level.SEVERE,"FML has detected item discrepancies");
    FMLLog.log("fml.ItemTracker",Level.SEVERE,"Missing items : %s",difference.entriesOnlyOnLeft());
    FMLLog.log("fml.ItemTracker",Level.SEVERE,"Mismatched items : %s",difference.entriesDiffering());
    boolean foundNonIgnored=false;
    for (    ItemData diff : difference.entriesOnlyOnLeft().values()) {
      if (!isModIgnoredForIdValidation(diff.getModId())) {
        foundNonIgnored=true;
      }
    }
    for (    ValueDifference<ItemData> diff : difference.entriesDiffering().values()) {
      if (!(isModIgnoredForIdValidation(diff.leftValue().getModId()) || isModIgnoredForIdValidation(diff.rightValue().getModId()))) {
        foundNonIgnored=true;
      }
    }
    if (!foundNonIgnored) {
      FMLLog.log("fml.ItemTracker",Level.SEVERE,"FML is ignoring these ID discrepancies because of configuration. YOUR GAME WILL NOW PROBABLY CRASH. HOPEFULLY YOU WON'T HAVE CORRUPTED YOUR WORLD. BLAME %s",ignoredMods.keySet());
    }
    isSaveValid=!foundNonIgnored;
    serverValidationLatch.countDown();
  }
 else {
    isSaveValid=true;
    serverValidationLatch.countDown();
  }
  try {
    clientValidationLatch.await();
    if (!shouldContinue) {
      throw new RuntimeException("This server instance is going to stop abnormally because of a fatal ID mismatch");
    }
  }
 catch (  InterruptedException e) {
  }
}
