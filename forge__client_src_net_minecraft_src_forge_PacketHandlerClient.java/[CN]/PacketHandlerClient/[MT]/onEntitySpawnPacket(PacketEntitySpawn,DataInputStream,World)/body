{
  if (DEBUG) {
    System.out.println("S->C: " + packet.toString(true));
  }
  Class cls=MinecraftForge.getEntityClass(packet.modID,packet.typeID);
  if (cls == null) {
    System.out.println("Could not find entity info for " + Integer.toHexString(packet.modID) + " : "+ packet.typeID);
    return;
  }
  double posX=(double)packet.posX / 32D;
  double posY=(double)packet.posY / 32D;
  double posZ=(double)packet.posZ / 32D;
  float yaw=(float)(packet.yaw * 360) / 256.0F;
  float pitch=(float)(packet.pitch * 360) / 256.0F;
  float yawHead=(float)(packet.yawHead * 360) / 256.0F;
  try {
    Entity entity=(Entity)(cls.getConstructor(World.class).newInstance(world));
    if (entity instanceof IThrowableEntity) {
      Minecraft mc=ModLoader.getMinecraftInstance();
      Entity thrower=(mc.thePlayer.entityId == packet.throwerID ? mc.thePlayer : ((WorldClient)world).getEntityByID(packet.throwerID));
      ((IThrowableEntity)entity).setThrower(thrower);
    }
    entity.serverPosX=packet.posX;
    entity.serverPosY=packet.posY;
    entity.serverPosZ=packet.posZ;
    Entity parts[]=entity.getParts();
    if (parts != null) {
      int i=packet.entityID - entity.entityId;
      for (int j=0; j < parts.length; j++) {
        parts[j].entityId+=i;
      }
    }
    entity.entityId=packet.entityID;
    entity.setPositionAndRotation(posX,posY,posZ,yaw,pitch);
    if (entity instanceof EntityLiving) {
      ((EntityLiving)entity).rotationYawHead=yawHead;
    }
    if (packet.metadata != null) {
      entity.getDataWatcher().updateWatchedObjectsFromList((List)packet.metadata);
    }
    if (packet.throwerID > 0) {
      entity.setVelocity(packet.speedX / 8000D,packet.speedY / 8000D,packet.speedZ / 8000D);
    }
    if (entity instanceof ISpawnHandler) {
      ((ISpawnHandler)entity).readSpawnData(data);
    }
    ((WorldClient)world).addEntityToWorld(packet.entityID,entity);
  }
 catch (  Exception e) {
    e.printStackTrace();
    ModLoader.getLogger().throwing("ForgeHooksClient","onEntitySpawnPacket",e);
    ModLoader.throwException(String.format("Error spawning entity of type %d for %s.",packet.typeID,MinecraftForge.getModByID(packet.modID)),e);
  }
}
