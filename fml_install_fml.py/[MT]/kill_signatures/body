def kill_signatures(jar_file):
    dir = os.path.dirname(jar_file)
    name = os.path.basename(jar_file)
    tmp_jar = os.path.join(dir, ('%s.temp' % name))
    if (not os.path.isfile(jar_file)):
        return
    if os.path.isfile(tmp_jar):
        os.remove(tmp_jar)
    shutil.move(jar_file, tmp_jar)
    print ('Stripping META-INF from %s' % jar_file)
    with closing(zipfile.ZipFile(tmp_jar, mode='a')) as zip_in:
        with closing(zipfile.ZipFile(jar_file, 'w', zipfile.ZIP_DEFLATED)) as zip_out:
            for i in zip_in.filelist:
                if (not i.filename.startswith('META-INF')):
                    c = zip_in.read(i.filename)
                    zip_out.writestr(i.filename, c)
                else:
                    print ('    Skipping: %s' % i.filename)
    os.remove(tmp_jar)
