def pre_decompile(mcp_dir, fml_dir):
    file_backup(os.path.join(mcp_dir, 'jars', 'bin'), 'minecraft.jar')
    file_backup(os.path.join(mcp_dir, 'jars'), 'minecraft_server.jar')
    client_jar = os.path.join(mcp_dir, 'jars', 'bin', 'minecraft.jar.backup')
    server_jar = os.path.join(mcp_dir, 'jars', 'minecraft_server.jar.backup')
    if (not os.path.isfile(client_jar)):
        print 'Could not find Client jar, decompile requires both client and server.'
        sys.exit(1)
    if (not os.path.isfile(server_jar)):
        print 'Could not find Server jar, decompile requires both client and server.'
    md5_c = ''
    md5_s = ''
    with open(client_jar, 'rb') as fh:
        md5_c = md5(fh.read()).hexdigest()
    with open(server_jar, 'rb') as fh:
        md5_s = md5(fh.read()).hexdigest()
    clean_c = '266ccbc9798afd2eadf3d6c01b4c562a'
    clean_s = 'f44a3cfe6ec35b1ac3f2b635e73d96fe'
    if (not (md5_c == clean_c)):
        print 'Warning, Modified Client jar detected'
        print 'Continuing with decompile may produce unpredictable results'
        print 'If you continue, do not come to the FML or Forge team with decompile issues.'
        answer = raw_input('If you really want to continue, enter "Yes" ')
        if (answer.lower() not in ['yes', 'y']):
            print 'You have not entered "Yes", aborting the decompile process'
            sys.exit(1)
    if (not (md5_s == clean_s)):
        print 'Warning, Modified Server jar detected'
        print 'Continuing with decompile may produce unpredictable results'
        print 'If you continue, do not come to the FML or Forge team with decompile issues.'
        answer = raw_input('If you really want to continue, enter "Yes" ')
        if (answer.lower() not in ['yes', 'y']):
            print 'You have not entered "Yes", aborting the decompile process'
            sys.exit(1)
