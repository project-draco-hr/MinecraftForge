{
  if (DEBUG) {
    System.out.println("C->S: " + pkt.toString(true));
  }
  if (pkt.Length < 0) {
    net.kickPlayer("Invalid mod list response, Size: " + pkt.Length);
    return;
  }
  if (!pkt.has4096) {
    net.kickPlayer("Must have Forge build #136+ (4096 fix) to connect to this server");
    return;
  }
  if (pkt.Mods.length == 0) {
    ModLoader.getLogger().log(Level.INFO,net.getUsername() + " joined with no mods");
  }
 else {
    ModLoader.getLogger().log(Level.INFO,net.getUsername() + " joined with: " + Arrays.toString(pkt.Mods).replaceAll("mod_",""));
  }
  NetworkMod[] serverMods=MinecraftForge.getNetworkMods();
  ArrayList<NetworkMod> missing=new ArrayList<NetworkMod>();
  for (  NetworkMod mod : serverMods) {
    if (!mod.clientSideRequired()) {
      continue;
    }
    boolean found=false;
    for (    String modName : pkt.Mods) {
      if (modName.equals(mod.toString())) {
        found=true;
        break;
      }
    }
    if (!found) {
      missing.add(mod);
    }
  }
  if (missing.size() > 0) {
    doMissingMods(net,missing);
  }
 else {
    finishLogin(net);
  }
}
