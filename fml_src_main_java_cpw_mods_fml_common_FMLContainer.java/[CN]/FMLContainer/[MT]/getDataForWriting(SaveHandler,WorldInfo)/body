{
  NBTTagCompound fmlData=new NBTTagCompound();
  NBTTagList list=new NBTTagList();
  for (  ModContainer mc : Loader.instance().getActiveModList()) {
    NBTTagCompound mod=new NBTTagCompound();
    mod.setString("ModId",mc.getModId());
    mod.setString("ModVersion",mc.getVersion());
    list.appendTag(mod);
  }
  fmlData.setTag("ModList",list);
  NBTTagList dataList=new NBTTagList();
  FMLLog.fine("Gathering id map for writing to world save %s",info.getWorldName());
  Map<String,Integer> itemList=GameData.buildItemDataList();
  for (  Entry<String,Integer> item : itemList.entrySet()) {
    NBTTagCompound tag=new NBTTagCompound();
    tag.setString("K",item.getKey());
    tag.setInteger("V",item.getValue());
    dataList.appendTag(tag);
  }
  fmlData.setTag("ItemData",dataList);
  return fmlData;
}
