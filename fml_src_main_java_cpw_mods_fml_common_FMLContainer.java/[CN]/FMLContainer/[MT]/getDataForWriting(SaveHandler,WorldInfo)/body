{
  NBTTagCompound fmlData=new NBTTagCompound();
  NBTTagList list=new NBTTagList();
  for (  ModContainer mc : Loader.instance().getActiveModList()) {
    NBTTagCompound mod=new NBTTagCompound();
    mod.setString("ModId",mc.getModId());
    mod.setString("ModVersion",mc.getVersion());
    list.appendTag(mod);
  }
  fmlData.setTag("ModList",list);
  NBTTagList dataList=new NBTTagList();
  FMLLog.fine("Gathering id map for writing to world save %s",info.getWorldName());
  Map<String,Integer> itemList=GameData.buildItemDataList();
  for (  Entry<String,Integer> item : itemList.entrySet()) {
    NBTTagCompound tag=new NBTTagCompound();
    tag.setString("K",item.getKey());
    tag.setInteger("V",item.getValue());
    dataList.appendTag(tag);
  }
  fmlData.setTag("ItemData",dataList);
  fmlData.setIntArray("BlockedItemIds",GameData.getBlockedIds());
  NBTTagList blockAliasList=new NBTTagList();
  for (  Entry<String,String> entry : GameData.getBlockRegistry().getAliases().entrySet()) {
    NBTTagCompound tag=new NBTTagCompound();
    tag.setString("K",entry.getKey());
    tag.setString("V",entry.getValue());
    blockAliasList.appendTag(tag);
  }
  fmlData.setTag("BlockAliases",blockAliasList);
  NBTTagList itemAliasList=new NBTTagList();
  for (  Entry<String,String> entry : GameData.getItemRegistry().getAliases().entrySet()) {
    NBTTagCompound tag=new NBTTagCompound();
    tag.setString("K",entry.getKey());
    tag.setString("V",entry.getValue());
    itemAliasList.appendTag(tag);
  }
  fmlData.setTag("ItemAliases",itemAliasList);
  return fmlData;
}
