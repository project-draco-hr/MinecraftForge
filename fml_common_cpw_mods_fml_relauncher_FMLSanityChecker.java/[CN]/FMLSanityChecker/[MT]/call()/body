{
  byte[] mlClass=cl.getClassBytes("ModLoader");
  if (mlClass == null) {
    return null;
  }
  MLDetectorClassVisitor mlTester=new MLDetectorClassVisitor();
  ClassReader cr=new ClassReader(mlClass);
  cr.accept(mlTester,ClassReader.SKIP_CODE);
  if (!mlTester.foundMarker) {
    JOptionPane.showMessageDialog(FMLRelauncher.instance().popupWindow,"<html>CRITICAL ERROR<br/>" + "ModLoader was detected in this environment<br/>" + "ForgeModLoader cannot be installed alongside ModLoader<br/>"+ "All mods should work without ModLoader being installed<br/>"+ "Because ForgeModLoader is 100% compatible with ModLoader<br/>"+ "Re-install Minecraft Forge or Forge ModLoader into a clean<br/>"+ "jar and try again.","ForgeModLoader critical error",JOptionPane.ERROR_MESSAGE);
    throw new RuntimeException("Invalid ModLoader class detected");
  }
  return null;
}
