{
  MessageManager inst=MessageManager.getInstance();
  if (pkt.channel.equals("REGISTER")) {
    try {
      String channels=new String(pkt.data,"UTF8");
      for (      String channel : channels.split("\0")) {
        inst.addActiveChannel(net,channel);
      }
    }
 catch (    UnsupportedEncodingException ex) {
      ModLoader.throwException("ForgeHooksClient.onCustomPayload",ex);
    }
  }
 else   if (pkt.channel.equals("UNREGISTER")) {
    try {
      String channels=new String(pkt.data,"UTF8");
      for (      String channel : channels.split("\0")) {
        inst.removeActiveChannel(net,channel);
      }
    }
 catch (    UnsupportedEncodingException ex) {
      ModLoader.throwException("ForgeHooksClient.onCustomPayload",ex);
    }
  }
 else {
    inst.dispatchIncomingMessage(net,pkt.channel,pkt.data);
  }
}
