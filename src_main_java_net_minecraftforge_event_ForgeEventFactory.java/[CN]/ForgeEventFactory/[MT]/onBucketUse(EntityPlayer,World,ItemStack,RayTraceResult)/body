{
  FillBucketEvent event=new FillBucketEvent(player,stack,world,target);
  if (MinecraftForge.EVENT_BUS.post(event))   return stack;
  if (event.getResult() == Result.ALLOW) {
    if (player.capabilities.isCreativeMode)     return stack;
    if (--stack.stackSize <= 0)     return event.getFilledBucket();
    if (!player.inventory.addItemStackToInventory(event.getFilledBucket()))     player.dropPlayerItemWithRandomChoice(event.getFilledBucket(),false);
    return stack;
  }
  return null;
}
