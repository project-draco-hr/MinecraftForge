{
  FillBucketEvent event=new FillBucketEvent(player,stack,world,target);
  if (MinecraftForge.EVENT_BUS.post(event))   return stack;
  if (event.getResult() == Result.ALLOW) {
    if (player.capabilities.isCreativeMode)     return stack;
    if (--stack.stackSize <= 0)     return event.result;
    if (!player.inventory.addItemStackToInventory(event.result))     player.dropPlayerItemWithRandomChoice(event.result,false);
    return stack;
  }
  return null;
}
