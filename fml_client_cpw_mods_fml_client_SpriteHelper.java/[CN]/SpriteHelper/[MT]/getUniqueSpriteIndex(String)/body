{
  if (!spriteInfo.containsKey("/terrain.png")) {
    initMCSpriteMaps();
  }
  BitSet slots=spriteInfo.get(path);
  if (slots == null) {
    Exception ex=new Exception(String.format("Invalid getUniqueSpriteIndex call for texture: %s",path));
    FMLLog.log.log(Level.SEVERE,ex,"A critical error has been detected with sprite overrides");
    FMLCommonHandler.instance().raiseException(ex,"Invalid request to getUniqueSpriteIndex",true);
  }
  int ret=getFreeSlot(slots);
  if (ret == -1) {
    Exception ex=new Exception(String.format("No more sprite indicies left for: %s",path));
    FMLLog.log.log(Level.SEVERE,ex,"There are no sprite indicies left for %s",path);
    FMLCommonHandler.instance().raiseException(ex,"No more sprite indicies left",true);
  }
  return ret;
}
