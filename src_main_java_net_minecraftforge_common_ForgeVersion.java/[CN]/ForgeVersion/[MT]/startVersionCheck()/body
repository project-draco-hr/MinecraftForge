{
  new Thread("Forge Version Check"){
    @SuppressWarnings("unchecked") @Override public void run(){
      try {
        URL url=new URL("http://files.minecraftforge.net/maven/net/minecraftforge/forge/promotions_slim.json");
        InputStream con=url.openStream();
        String data=new String(ByteStreams.toByteArray(con));
        con.close();
        Map<String,Object> json=new Gson().fromJson(data,Map.class);
        Map<String,String> promos=(Map<String,String>)json.get("promos");
        String rec=promos.get(MinecraftForge.MC_VERSION + "-recommended");
        String lat=promos.get(MinecraftForge.MC_VERSION + "-latest");
        ArtifactVersion current=new DefaultArtifactVersion(getVersion());
        if (rec != null) {
          ArtifactVersion recommended=new DefaultArtifactVersion(rec);
          int diff=recommended.compareTo(current);
          if (diff == 0)           status=UP_TO_DATE;
 else           if (diff < 0) {
            status=AHEAD;
            if (lat != null) {
              if (current.compareTo(new DefaultArtifactVersion(lat)) < 0) {
                status=OUTDATED;
                target=lat;
              }
            }
          }
 else {
            status=OUTDATED;
            target=rec;
          }
        }
 else         if (lat != null) {
          if (current.compareTo(new DefaultArtifactVersion(lat)) < 0) {
            status=BETA_OUTDATED;
            target=lat;
          }
 else           status=BETA;
        }
 else         status=BETA;
      }
 catch (      Exception e) {
        e.printStackTrace();
        status=FAILED;
      }
    }
  }
.start();
}
