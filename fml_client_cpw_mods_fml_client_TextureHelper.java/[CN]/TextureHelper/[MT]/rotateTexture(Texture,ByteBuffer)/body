{
  ByteBuffer bytebuffer=buffer;
  buffer.position(0);
  ByteBuffer other=ByteBuffer.allocateDirect(buffer.capacity());
  other.position(0);
  int texHeight=texture.func_94276_e();
  int texWidth=texture.func_94275_d();
  for (int row=0; row < texHeight; ++row) {
    int targCol=texHeight - row - 1;
    int srcRowOffset=row * texWidth;
    for (int col=0; col < texWidth; ++col) {
      int targIndex=col * texHeight + targCol;
      int srcIndex=srcRowOffset + col;
      srcIndex<<=2;
      targIndex<<=2;
      other.put(targIndex + 0,bytebuffer.get(srcIndex + 0));
      other.put(targIndex + 1,bytebuffer.get(srcIndex + 1));
      other.put(targIndex + 2,bytebuffer.get(srcIndex + 2));
      other.put(targIndex + 3,bytebuffer.get(srcIndex + 3));
    }
  }
  buffer.position(0);
  buffer.put(other);
}
